name: Git Repo Sync

on:
  - push
  - delete

jobs:
  sync:
    runs-on: ubuntu-latest
    name: Sync
    steps:
    - name: Checkout ðŸšª
      uses: actions/checkout@v3
      with:
        fetch-depth: 0

    - name: GitLab
      uses: wangchucheng/git-repo-sync@v0.1.0
      with:
        target-url: https://gitlab.com/lenster/lenster.git
        target-username: yo
        target-token: ${{ secrets.GITLAB_SYNC_TOKEN }}

    - name: Codegiant
      uses: wangchucheng/git-repo-sync@v0.1.0
      with:
        target-url: $CODEGIANT_URL
        target-username: $CODEGIANT_USERNAME
        target-token: ${{ secrets.CODEGIANT_SYNC_TOKEN }}
